{#
This is the base template used as the application layout which contains the
common elements and decorates all the other templates.
See https://symfony.com/doc/current/templates.html#template-inheritance-and-layouts
#}
<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>{% block title %}Alameda Blog {% endblock %}</title>
    <link rel="alternate" type="application/rss+xml" title="{{ 'rss.title'|trans }}" href="{{ path('blog_rss') }}">
    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}

    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}"/>
</head>

<body id="{% block body_id %}{% endblock %}">

{% block header %}
    <header>
        <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
            <div class="container-fluid">
                <div class="navbar-header col-md-3 col-lg-2">
                    <a class="navbar-brand" href="{{ path('homepage') }}">
                        Alameda Blog
                    </a>
                    <button class="navbar-toggler" type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#navbar-collapse-menu"
                            aria-controls="navbar-collapse-menu"
                            aria-expanded="false" aria-label="Toggle navigation"
                            >
                        <span class="sr-only">{{ 'menu.toggle_nav'|trans }}</span>
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse" id="navbar-collapse-menu">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        {% block header_navigation_links %}
                            <li class="nav-item">
                                <a href="{{ path('blog_index') }}" class="nav-link">
                                    <i class="fa fa-home" aria-hidden="true"></i> {{ 'menu.homepage'|trans }}
                                </a>
                            </li>

                            {% if is_granted('ROLE_ADMIN') %}
                                <li>
                                    <a href="{{ path('admin_post_index') }}">
                                        <i class="fa fa-lock" aria-hidden="true"></i> {{ 'menu.admin'|trans }}
                                    </a>
                                </li>
                            {% endif %}
                        {% endblock %}

                        <li class="nav-item">
                            <a href="{{ path('blog_search') }}"><i class="fa fa-search"></i> {{ 'menu.search'|trans }}
                            </a>
                        </li>

                        {% if app.user %}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-expanded="false" id="user">
                                    <i class="fa fa-user" aria-hidden="true"></i>
                                    <span class="caret"></span>
                                    <span class="sr-only">{{ app.user.fullname }}</span>
                                </a>
                                <ul class="dropdown-menu user" role="menu" aria-labelledby="user">
                                    <li>
                                        <a href="{{ path('user_edit') }}">
                                            <i class="fa fa-edit" aria-hidden="true"></i> {{ 'menu.user'|trans }}
                                        </a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="{{ path('security_logout') }}">
                                            <i class="fa fa-sign-out" aria-hidden="true"></i> {{ 'menu.logout'|trans }}
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        {% endif %}

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle"
                               data-bs-toggle="dropdown"
                               role="button"
                               aria-expanded="false" id="locales">
                                <i class="fa fa-globe" aria-hidden="true"></i>
                                <span class="caret"></span>
                                <span class="sr-only">{{ 'menu.choose_language'|trans }}</span>
                            </a>
                            <ul class="dropdown-menu locales" role="menu" aria-labelledby="locales">
                                {% for locale in locales() %}
                                    <li {% if app.request.locale == locale.code %}aria-checked="true" class="active"
                                        {% else %}aria-checked="false"{% endif %} role="menuitem"><a
                                                href="{{ path(app.request.get('_route', 'blog_index'), app.request.get('_route_params', [])|merge({_locale: locale.code})) }}">{{ locale.name|capitalize }}
                                            <small>{{ locale.code[0:2] }}</small></a></li>
                                {% endfor %}
                            </ul>
                        </li>
                    </ul>
                    <form class="d-flex">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>
{% endblock %}

<div class="container body-container">
    {% block body %}
        <div class="row mt-5">
            <div id="main" class="col-sm-10">
                {{ include('default/_flash_messages.html.twig') }}

                {% block main %}{% endblock %}
            </div>

            <div id="sidebar" class="col-sm-2">
                {% block sidebar %}
                    {#                            {{ render_esi(controller('Symfony\\Bundle\\FrameworkBundle\\Controller\\TemplateController::templateAction', { #}
                    {#                                'template': 'blog/about.html.twig', #}
                    {#                                'sharedAge': 600, #}
                    {#                                '_locale': app.request.locale #}
                    {#                            })) }} #}
                {% endblock %}
            </div>
        </div>
    {% endblock %}
</div>

{% block footer %}
    <footer>
        <div class="container">
            <div class="row">
                <div id="footer-copyright" class="col-md-6">
                    <p>&copy; {{ 'now'|date('Y') }} - Alameda Blog</p>
                    <p>{{ 'mit_license'|trans }}</p>
                </div>
                <div id="footer-resources" class="col-md-6">
                    <p>
                        <a href="https://www.facebook.com/IglesiaAlameda" title="Alameda Facebook">
                            <i class="fa fa-facebook" aria-hidden="true"></i>
                        </a>
                        {#                                <a href="https://alameda.ar/blog/" title="Alameda Blog"> #}
                        {#                                    <i class="fa fa-rss" aria-hidden="true"></i> #}
                        {#                                </a> #}
                    </p>
                </div>
            </div>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
{% endblock %}

{# it's not mandatory to set the timezone in localizeddate(). This is done to
           avoid errors when the 'intl' PHP extension is not available and the application
           is forced to use the limited "intl polyfill", which only supports UTC and GMT #}
<!-- Page rendered on {{ 'now'|format_datetime('long', 'long', '', 'UTC') }} -->
</body>
</html>
